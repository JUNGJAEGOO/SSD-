package back14927;

import java.util.Scanner;

public class Main {
	public static void main(String args[]) {
		Scanner in = new Scanner(System.in);
		int N = in.nextInt();
		int mat[][]= new int[N+2][N+2];
		
		for( int i = 1 ; i <= N ; i++) {
			for ( int j = 1 ; j <= N ;j++) {
				mat[i][j] = in.nextInt();
			}
		}
		
		int ans = 0 ;
		for ( int i = 1 ; i <= N-1 ; i++) {
			
			
				for ( int s = 1 ; s<= N ;s++) {
					if ( mat[i][s] == 1) {
						mat[i][s] = 0;
						mat[i+1][s] = 1 - mat[i+1][s];
						mat[i+2][s] = 1 - mat[i+1][s];
						mat[i+1][s-1] = 1 - mat[i+1][s];
						mat[i+1][s+1] = 1 - mat[i+1][s];
						ans++;
					}
				}
			
			
		
		}
		
		int sum = 0;
		for( int i = 1 ; i <= N ; i++) {
			for ( int j = 1 ; j <= N ;j++) {
				sum += mat[i][j];
				System.out.print(mat[i][j]+" ");
			}System.out.pritnln();
		}
		
		if (sum == 0 ) {
			System.out.println(ans);
		}else {
			System.out.println(-1);
		}
	
	}
}
